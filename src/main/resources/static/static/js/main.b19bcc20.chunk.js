(this.webpackJsonpmiolaprojects=this.webpackJsonpmiolaprojects||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),l=a.n(o),c=(a(70),a(8)),s=a(6),i=a(10),u=a(9),m=a(14),d=a(16),p=a(110),h=a(111),E=a(61),f=(a(71),a(72),a(107)),b=a(113),g=a(116),v=a(12),j=a(13),y=a(7),k=a.n(y),w=function(e,t){return k.a.post("https://miolaproject.herokuapp.com/register",{username:e,password:t,role:"user"})},C=function(e,t){return k.a.post("https://miolaproject.herokuapp.com/authenticate",{username:e,password:t}).then((function(e){return e.data.jwttoken&&(localStorage.setItem("user",JSON.stringify(e)),console.log("llocal storage "+localStorage.getItem("user"))),e.data}))},x=function(){localStorage.removeItem("user")},O=function(){return JSON.parse(localStorage.getItem("user"))},N=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).LogOut=function(e){x()},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b.a,{bg:"light",variant:"light"},r.a.createElement(m.b,{to:{pathname:"/login"}},r.a.createElement(g.a,{size:"sm",style:{right:"50px",display:"block"},onClick:this.LogOut,variant:"outline-danger"}," ",r.a.createElement(v.a,{icon:j.d}),"Deconnexion")," ")))}}]),a}(n.Component),T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-10"},r.a.createElement(b.a,{bg:"dark",variant:"dark"},r.a.createElement(m.b,{to:"/home",className:"nav-link"},"Home"),r.a.createElement(m.b,{to:"/projet",className:"nav-link"},"Projets"),r.a.createElement(m.b,{to:"/encadrant",className:"nav-link"},"Encadrants"),r.a.createElement(m.b,{to:"/etudiant",className:"nav-link"},"Etudiants"),r.a.createElement(m.b,{to:"/groupe",className:"nav-link"},"Groupes"),r.a.createElement(m.b,{to:"/seance",className:"nav-link"},"S\xe9ances d'encadrements"))),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement(N,null))))}}]),a}(r.a.Component),S=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("h1",null,"Bienvenue dans le projet MiolaProjects"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"G\xe9rer les projets de vos \xe9tudiants de A-Z"),r.a.createElement("footer",{className:"blockquote-footer"},"Master MIOLA"))))}}]),a}(r.a.Component),z=a(17),G=a(11),A=a(115),I=a(112),P=a(108),q=a(109),M=a(114),L=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:this.props.children.show?{position:"fixed",top:"20px",left:"20px",zIndex:"1",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}:null},r.a.createElement(M.a,{className:"border text-white ".concat("success"===this.props.children.type?"border-success bg-success":"border-danger bg-danger"),show:this.props.children.show},r.a.createElement(M.a.Header,{className:"text-white ".concat((this.props.children.type,"bg-danger")),closeButton:!1},r.a.createElement("strong",{className:"mr-auto"},"Success")),r.a.createElement(M.a.Body,null,this.props.children.message)))}}]),a}(n.Component),B=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:this.props.children.show?{position:"fixed",top:"20px",right:"20px",zIndex:"1",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}:null},r.a.createElement(M.a,{className:"border text-white ".concat("success"===this.props.children.type?"border-success bg-success":"border-danger bg-danger"),show:this.props.children.show},r.a.createElement(M.a.Header,{className:"text-white ".concat("success"===this.props.children.type?"bg-success":"bg-danger"),closeButton:!1},r.a.createElement("strong",{className:"mr-auto"},"Success")),r.a.createElement(M.a.Body,null,this.props.children.message)))}}]),a}(n.Component),D=O(),R="";D&&(R=D.data.jwttoken);var F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).initialState={Titre:" ",Description:" ",Theme:" ",Duree:" ",Technologies:" "},n.ProjetSupp=function(e){k.a.delete("https://miolaproject.herokuapp.com/projets/"+e,{headers:{Authorization:"Bearer ".concat(R)}}).then((function(t){null!=t.data?(n.setState({showSuppToast:!0}),setTimeout((function(){return n.setState({showSuppToast:!1})}),1e3),n.setState({projets:n.state.projets.filter((function(t){return t.id!==e}))})):n.setState({showSuppToast:!1})}))},n.state={projets:[],isToggleOn:!1},n.projetChange=n.projetChange.bind(Object(G.a)(n)),n.ajoutProjet=n.ajoutProjet.bind(Object(G.a)(n)),n.handleClick=n.handleClick.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"handleClick",value:function(){var e=this;this.setState((function(t){return{isToggleOn:!e.state.isToggleOn}}))}},{key:"componentDidMount",value:function(){var e=this;if(console.log(R),""!==R){k.a.get("https://miolaproject.herokuapp.com/projets",{headers:{Authorization:"Bearer ".concat(R)}}).then((function(t){console.log(t.data),e.setState({projets:t.data,isLoaded:!0,redirectToReferrer:!1})}))}else this.props.history.push("/login")}},{key:"ajoutProjet",value:function(e){var t=this;e.preventDefault();var a={titre:this.state.titre,description:this.state.description,theme:this.state.theme,duree:this.state.duree,technologies:this.state.technologies};k.a.post("https://miolaproject.herokuapp.com/projets",a,{headers:{Authorization:"Bearer ".concat(R)}}).then((function(e){null!=e.data&&(t.setState(t.initialState),t.setState({showAddToast:!0}),setTimeout((function(){return t.setState({showAddToast:!1})}),1e3),setTimeout((function(){return window.location.reload(!1)}),1e3))}))}},{key:"projetChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.b})," Liste des projets"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous trouverez la liste des projets existants "))),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(g.a,{size:"lg",variant:"outline-success",onClick:this.handleClick}," ",r.a.createElement(v.a,{icon:j.c})," Ajouter un projet")))),r.a.createElement("div",{style:{display:this.state.showSuppToast?"block":"none"}},r.a.createElement(L,{children:{showSuppToast:this.state.showSuppToast,message:"Projet supprime\u0301",type:"danger"}})),r.a.createElement("div",{className:"FormAjout",style:{display:this.state.isToggleOn?"block":"none"}},r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(A.a.Header,null," Ajouter une projet "),r.a.createElement("div",{style:{display:this.state.showAddToast?"block":"none"}},r.a.createElement(B,{children:{showAddToast:this.state.showAddToast,message:"Projet ajout\xe9 avec succe\u0300s.",type:"success"}})),r.a.createElement(I.a,{onSubmit:this.ajoutProjet,id:"ProjetFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridTitre"},r.a.createElement(I.a.Label,null," Titre "),r.a.createElement(I.a.Control,{name:"titre",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.titre,onChange:this.projetChange,placeholder:"Entrez Titre Projet"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridTheme"},r.a.createElement(I.a.Label,null," Th\xe8me "),r.a.createElement(I.a.Control,{name:"theme",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.theme,onChange:this.projetChange,placeholder:"Entrez Th\xe8me Projet"}))),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridDescription"},r.a.createElement(I.a.Label,null," Description "),r.a.createElement(I.a.Control,{name:"description",autoComplete:"off",required:!0,type:"textarea",className:"bg-dark text-white",as:"textarea",rows:"3",value:this.state.description,onChange:this.projetChange,placeholder:"Entrez Description Projet"}))),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridDuree"},r.a.createElement(I.a.Label,null," Dur\xe9e "),r.a.createElement(I.a.Control,{name:"duree",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.duree,onChange:this.projetChange,placeholder:"Entrez Dur\xe9e Projet"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridTechnologies"},r.a.createElement(I.a.Label,null," Technologies "),r.a.createElement(I.a.Control,{name:"technologies",autoComplete:"off",type:"text",className:"bg-dark text-white",value:this.state.technologies,onChange:this.projetChange,placeholder:"Entrez Technologies Projet"})))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"success",type:"submit"}," Ajouter "))))),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(A.a.Body,null,r.a.createElement(P.a,{bordered:!0,hover:!0,striped:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Titre"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Dur\xe9e"),r.a.createElement("th",null,"Th\xe8me"),r.a.createElement("th",null,"Technologies"))),r.a.createElement("tbody",null,0===this.state.projets.length?r.a.createElement("tr",{align:"center"},r.a.createElement("td",{colSpan:"6"},"Aucun projet existant.")):this.state.projets.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.titre),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.duree),r.a.createElement("td",null,t.theme),r.a.createElement("td",null,t.technologies),r.a.createElement("td",null,r.a.createElement(q.a,null,r.a.createElement(m.b,{to:{pathname:"/projet/modif/".concat(t.id)},className:"nav-link"},r.a.createElement(g.a,{size:"sm",variant:"outline-primary"},r.a.createElement(v.a,{icon:j.a})," ")),r.a.createElement(g.a,{size:"sm",variant:"outline-danger",onClick:e.ProjetSupp.bind(e,t.id)}," ",r.a.createElement(v.a,{icon:j.e})," "))))}))))))))}}]),a}(n.Component),V=a(18),H=a.n(V),U=a(24),_=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:this.props.children.show?{position:"fixed",top:"20px",right:"20px",zIndex:"1",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)"}:null},r.a.createElement(M.a,{className:"border text-white ".concat("success"===this.props.children.type?"border-success bg-success":"border-danger bg-danger"),show:this.props.children.show},r.a.createElement(M.a.Header,{className:"text-white ".concat("success"===this.props.children.type?"bg-success":"bg-danger"),closeButton:!1},r.a.createElement("strong",{className:"mr-auto"},"Success")),r.a.createElement(M.a.Body,null,this.props.children.message)))}}]),a}(n.Component),J=O(),K="";J&&(K=J.data.jwttoken);var W=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:"",titre:"",description:"",theme:"",duree:"",technologies:{}},n.state={projet:n.initialState},n.projetChange=n.projetChange.bind(Object(G.a)(n)),n.modifProjet=n.modifProjet.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(U.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===K){e.next=9;break}return t=this.props.match.params.id,e.next=4,k.a.get("https://miolaproject.herokuapp.com/projets/"+t,{headers:{Authorization:"Bearer ".concat(K)}});case 4:a=e.sent,console.log(a.data.titre),this.setState({id:t,titre:a.data.titre,description:a.data.description,theme:a.data.theme,duree:a.data.duree,technologies:a.data.technologies}),e.next=10;break;case 9:this.props.history.push("/login");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),Object(s.a)(a,[{key:"projetChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"modifProjet",value:function(){var e=Object(U.a)(H.a.mark((function e(t){var a,n,r=this;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.match.params.id,n={id:this.state.id,titre:this.state.titre,description:this.state.description,theme:this.state.theme,duree:this.state.duree,technologies:this.state.technologies},e.next=5,k.a.patch("https://miolaproject.herokuapp.com/projets/"+a,n,{headers:{Authorization:"Bearer ".concat(K)}}).then((function(e){null!=e.data&&(r.setState(r.initialState),r.setState({showModifToast:!0}),setTimeout((function(){return r.setState({showModifToast:!1})}),1e3),setTimeout((function(){return r.props.history.push("/projet")}),1e3))}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.a})," Modifier un projet"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous pouvez changer les informations que vous voulez et sauvegarder")),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement("div",{style:{display:this.state.showModifToast?"block":"none"}},r.a.createElement(_,{children:{showModifToast:this.state.showModifToast,message:"Projet modifi\xe9 avec succe\u0300s.",type:"success"}})),r.a.createElement(I.a,{onSubmit:this.modifProjet,id:"ProjetFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridTitre"},r.a.createElement(I.a.Label,null," Titre "),r.a.createElement(I.a.Control,{name:"titre",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.titre,onChange:this.projetChange,placeholder:"Entrez Titre Projet"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridTheme"},r.a.createElement(I.a.Label,null," Th\xe8me "),r.a.createElement(I.a.Control,{name:"theme",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.theme,onChange:this.projetChange,placeholder:"Entrez Th\xe8me Projet"}))),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridDescription"},r.a.createElement(I.a.Label,null," Description "),r.a.createElement(I.a.Control,{name:"description",autoComplete:"off",required:!0,type:"textarea",className:"bg-dark text-white",as:"textarea",rows:"3",value:this.state.description,onChange:this.projetChange,placeholder:"Entrez Description Projet"}))),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridDuree"},r.a.createElement(I.a.Label,null," Dur\xe9e "),r.a.createElement(I.a.Control,{name:"duree",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.duree,onChange:this.projetChange,placeholder:"Entrez Dur\xe9e Projet"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridTechnologies"},r.a.createElement(I.a.Label,null," Technologies "),r.a.createElement(I.a.Control,{name:"technologies",autoComplete:"off",type:"text",className:"bg-dark text-white",value:this.state.technologies,onChange:this.projetChange,placeholder:"Entrez Technologies Projet"})))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"primary",type:"submit"}," Modifier ")))))}}]),a}(n.Component),X=O(),$="";X&&($=X.data.jwttoken);var Q=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).initialState={Nom:" ",Prenom:" ",Role:" ",Departement:" "},n.deleteEncadrant=function(e){k.a.delete("https://miolaproject.herokuapp.com/encadrants/"+e,{headers:{Authorization:"Bearer ".concat($)}}).then((function(t){null!=t.data?(n.setState({showSuppToast:!0}),setTimeout((function(){return n.setState({showSuppToast:!1})}),1e3),n.setState({Encadrants:n.state.Encadrants.filter((function(t){return t.id!==e}))})):n.setState({showSuppToast:!1})}))},n.state={Encadrants:[],isToggleOn:!1,currentuser:O()},n.encadrantChange=n.encadrantChange.bind(Object(G.a)(n)),n.ajoutEncadrant=n.ajoutEncadrant.bind(Object(G.a)(n)),n.handleClick=n.handleClick.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(""!==$){k.a.get("https://miolaproject.herokuapp.com/encadrants",{headers:{Authorization:"Bearer ".concat($)}}).then((function(t){console.log(t.data),e.setState({Encadrants:t.data,isLoaded:!0,redirectToReferrer:!1})}))}else this.props.history.push("/login")}},{key:"ajoutEncadrant",value:function(e){var t=this;e.preventDefault();var a={nom:this.state.nom,prenom:this.state.prenom,role:this.state.role,departement:this.state.departement};k.a.post("https://miolaproject.herokuapp.com/encadrants",a,{headers:{Authorization:"Bearer ".concat($)}}).then((function(e){null!=e.data&&(t.setState(t.initialState),t.setState({showAddToast:!0}),setTimeout((function(){return t.setState({showAddToast:!1})}),1e3),setTimeout((function(){return window.location.reload(!1)}),1e3))}))}},{key:"handleClick",value:function(){var e=this;this.setState((function(t){return{isToggleOn:!e.state.isToggleOn}}))}},{key:"encadrantChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.b})," Liste des encadrants"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous trouverez la liste des encadrants existants"))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(g.a,{size:"lg",variant:"outline-success",onClick:this.handleClick}," ",r.a.createElement(v.a,{icon:j.c})," Ajouter un encadrant")))),r.a.createElement("div",{style:{display:this.state.showSuppToast?"block":"none"}},r.a.createElement(L,{children:{showSuppToast:this.state.showSuppToast,message:"Encadrant supprime\u0301",type:"danger"}})),r.a.createElement("div",{className:"FormAjout",style:{display:this.state.isToggleOn?"block":"none"}},r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(A.a.Header,null," Ajouter un encadrant "),r.a.createElement("div",{style:{display:this.state.showAddToast?"block":"none"}},r.a.createElement(B,{children:{showAddToast:this.state.showAddToast,message:"Encadrant ajout\xe9 avec succe\u0300s.",type:"success"}})),r.a.createElement(I.a,{onSubmit:this.ajoutEncadrant,id:"EncadrantFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridNom"},r.a.createElement(I.a.Label,null," Nom "),r.a.createElement(I.a.Control,{name:"nom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.nom,onChange:this.encadrantChange,placeholder:"Entrez Nom Encadrant"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridPrenom"},r.a.createElement(I.a.Label,null," Prenom "),r.a.createElement(I.a.Control,{name:"prenom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.prenom,onChange:this.encadrantChange,placeholder:"Entrez Prenom Encadrant"}))),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridRole"},r.a.createElement(I.a.Label,null," R\xf4le "),r.a.createElement(I.a.Control,{name:"role",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.role,onChange:this.encadrantChange,placeholder:"Entrez R\xf4le Encadrant"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridDepartement"},r.a.createElement(I.a.Label,null," D\xe9partement "),r.a.createElement(I.a.Control,{name:"departement",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.departement,onChange:this.encadrantChange,placeholder:"Entrez D\xe9partement Encadrant"})))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"success",type:"submit"}," Ajouter "))))),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(A.a.Body,null,r.a.createElement(P.a,{bordered:!0,hover:!0,striped:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nom"),r.a.createElement("th",null,"Prenom"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Departement"))),r.a.createElement("tbody",null,0===this.state.Encadrants.length?r.a.createElement("tr",{align:"center"},r.a.createElement("td",{colSpan:"6"},"Aucun encadrant existant.")):this.state.Encadrants.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.nom),r.a.createElement("td",null,t.prenom),r.a.createElement("td",null,t.role),r.a.createElement("td",null,t.departement),r.a.createElement("td",null,r.a.createElement(q.a,null,r.a.createElement(m.b,{to:{pathname:"/encadrant/modif/".concat(t.id)},className:"nav-link"},r.a.createElement(g.a,{size:"sm",variant:"outline-primary"},r.a.createElement(v.a,{icon:j.a})," ")),r.a.createElement(g.a,{size:"sm",variant:"outline-danger",onClick:e.deleteEncadrant.bind(e,t.id)}," ",r.a.createElement(v.a,{icon:j.e})," "))))}))))))))}}]),a}(n.Component),Y=O(),Z="";Y&&(Z=Y.data.jwttoken);var ee=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:"",nom:"",prenom:"",role:"",departement:""},n.state={encadrant:n.initialState},n.encadrantChange=n.encadrantChange.bind(Object(G.a)(n)),n.updateEncadrant=n.updateEncadrant.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(U.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===Z){e.next=9;break}return t=this.props.match.params.id,e.next=4,k.a.get("https://miolaproject.herokuapp.com/encadrants/"+t,{headers:{Authorization:"Bearer ".concat(Z)}});case 4:a=e.sent,console.log(a.data.nom),this.setState({id:t,nom:a.data.nom,prenom:a.data.prenom,role:a.data.role,departement:a.data.departement}),e.next=10;break;case 9:this.props.history.push("/login");case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),Object(s.a)(a,[{key:"encadrantChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"updateEncadrant",value:function(){var e=Object(U.a)(H.a.mark((function e(t){var a,n,r=this;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.match.params.id,n={id:this.state.id,nom:this.state.nom,prenom:this.state.prenom,role:this.state.role,departement:this.state.departement},e.next=5,k.a.patch("https://miolaproject.herokuapp.com/encadrants/"+a,n,{headers:{Authorization:"Bearer ".concat(Z)}}).then((function(e){null!=e.data?(r.setState(r.initialState),r.setState({showModifToast:!0}),setTimeout((function(){return r.setState({showModifToast:!1})}),1e3),setTimeout((function(){return r.props.history.push("/encadrant")}),1e3)):console.error("Error")}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.a})," Modifier un encadrant"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous pouvez changer les informations que vous voulez et sauvegarder")),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement("div",{style:{display:this.state.showModifToast?"block":"none"}},r.a.createElement(_,{children:{showModifToast:this.state.showModifToast,message:"Encadrant modifi\xe9 avec succe\u0300s.",type:"success"}})),r.a.createElement(I.a,{onSubmit:this.updateEncadrant,id:"EncadrantFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridNom"},r.a.createElement(I.a.Label,null," Nom "),r.a.createElement(I.a.Control,{name:"nom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.nom,onChange:this.encadrantChange,placeholder:"Entrez Nom Encadrant"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridPrenom"},r.a.createElement(I.a.Label,null," Prenom "),r.a.createElement(I.a.Control,{name:"prenom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.prenom,onChange:this.encadrantChange,placeholder:"Entrez Prenom Encadrant"}))),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridRole"},r.a.createElement(I.a.Label,null," R\xf4le "),r.a.createElement(I.a.Control,{name:"role",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.role,onChange:this.encadrantChange,placeholder:"Entrez R\xf4le Encadrant"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridDepartement"},r.a.createElement(I.a.Label,null," D\xe9partement "),r.a.createElement(I.a.Control,{name:"departement",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.departement,onChange:this.encadrantChange,placeholder:"Entrez D\xe9partement Encadrant"})))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"primary",type:"submit"}," Modifier "))))))}}]),a}(n.Component),te=O(),ae="";te&&(ae=te.data.jwttoken);var ne=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).initialState={Nom:" ",Prenom:" ",Cne:" ",Filiere:" ",GroupKey:" ",EncadrantId:" ",ProjectId:" "},n.deleteEtudiant=function(e){k.a.delete("https://miolaproject.herokuapp.com/etudiants/"+e,{headers:{Authorization:"Bearer ".concat(ae)}}).then((function(t){null!=t.data?(n.setState({showSuppToast:!0}),setTimeout((function(){return n.setState({showSuppToast:!1})}),1e3),n.setState({Etudiants:n.state.Etudiants.filter((function(t){return t.id!==e}))})):n.setState({showSuppToast:!1})}))},n.state={Etudiants:[],isToggleOn:!1},n.etudiantChange=n.etudiantChange.bind(Object(G.a)(n)),n.ajoutEtudiant=n.ajoutEtudiant.bind(Object(G.a)(n)),n.handleClick=n.handleClick.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log(ae),""!==ae){k.a.get("https://miolaproject.herokuapp.com/etudiants",{headers:{Authorization:"Bearer ".concat(ae)}}).then((function(t){console.log(t.data),e.setState({Etudiants:t.data,isLoaded:!0,redirectToReferrer:!1})}))}else this.props.history.push("/login")}},{key:"ajoutEtudiant",value:function(e){var t=this;e.preventDefault();var a={nom:this.state.nom,prenom:this.state.prenom,cne:this.state.cne,filiere:this.state.filiere,groupkey:" ",encadrantId:" ",projectId:" "};k.a.post("https://miolaproject.herokuapp.com/etudiants",a,{headers:{Authorization:"Bearer ".concat(ae)}}).then((function(e){null!=e.data&&(t.setState(t.initialState),t.setState({showAddToast:!0}),setTimeout((function(){return t.setState({showAddToast:!1})}),1e3),setTimeout((function(){return window.location.reload(!1)}),1e3))}))}},{key:"handleClick",value:function(){var e=this;this.setState((function(t){return{isToggleOn:!e.state.isToggleOn}}))}},{key:"etudiantChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-9"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.b})," Liste des \xe9tudiants"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous trouverez la liste des \xe9tudiants existants"))),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement(g.a,{size:"lg",variant:"outline-success",onClick:this.handleClick}," ",r.a.createElement(v.a,{icon:j.c})," Ajouter un \xe9tudiant")))),r.a.createElement("div",{style:{display:this.state.showSuppToast?"block":"none"}},r.a.createElement(L,{children:{showSuppToast:this.state.showSuppToast,message:"Etudiant supprime\u0301",type:"danger"}})),r.a.createElement("div",{className:"FormAjout",style:{display:this.state.isToggleOn?"block":"none"}},r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement("div",{style:{display:this.state.showAddToast?"block":"none"}},r.a.createElement(B,{children:{showAddToast:this.state.showAddToast,message:"Etudiant ajout\xe9 avec succe\u0300s.",type:"success"}})),r.a.createElement(I.a,{onSubmit:this.ajoutEtudiant,id:"EtudiantFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridNom"},r.a.createElement(I.a.Label,null," Nom "),r.a.createElement(I.a.Control,{name:"nom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.nom,onChange:this.etudiantChange,placeholder:"Entrez Nom Etudiant"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridPrenom"},r.a.createElement(I.a.Label,null," Prenom "),r.a.createElement(I.a.Control,{name:"prenom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.prenom,onChange:this.etudiantChange,placeholder:"Entrez Prenom Etudiant"}))),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridCne"},r.a.createElement(I.a.Label,null," CNE "),r.a.createElement(I.a.Control,{name:"cne",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.cne,onChange:this.etudiantChange,placeholder:"Entrez CNE Etudiant"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridFiliere"},r.a.createElement(I.a.Label,null," Fili\xe8re "),r.a.createElement(I.a.Control,{name:"filiere",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.filiere,onChange:this.etudiantChange,placeholder:"Entrez Fili\xe8re Etudiant"})))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"success",type:"submit"}," Ajouter "))))),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(A.a.Body,null,r.a.createElement(P.a,{bordered:!0,hover:!0,striped:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nom"),r.a.createElement("th",null,"Prenom"),r.a.createElement("th",null,"CNE"),r.a.createElement("th",null,"Fili\xe8re"))),r.a.createElement("tbody",null,0===this.state.Etudiants.length?r.a.createElement("tr",{align:"center"},r.a.createElement("td",{colSpan:"6"},"Aucun \xe9tudiant existant.")):this.state.Etudiants.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.nom),r.a.createElement("td",null,t.prenom),r.a.createElement("td",null,t.cne),r.a.createElement("td",null,t.filiere),r.a.createElement("td",null,r.a.createElement(q.a,null,r.a.createElement(m.b,{to:{pathname:"/etudiant/modif/".concat(t.id)},className:"nav-link"},r.a.createElement(g.a,{size:"sm",variant:"outline-primary"},r.a.createElement(v.a,{icon:j.a})," ")),r.a.createElement(g.a,{size:"sm",variant:"outline-danger",onClick:e.deleteEtudiant.bind(e,t.id)}," ",r.a.createElement(v.a,{icon:j.e})," "))))}))))))))}}]),a}(n.Component),re=O(),oe="";re&&(oe=re.data.jwttoken);var le=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:"",nom:"",prenom:"",cne:"",filiere:"",groupKey:"",encadrantId:"",projectId:""},n.state={encadrant:n.initialState},n.etudiantChange=n.etudiantChange.bind(Object(G.a)(n)),n.updateEtudiant=n.updateEtudiant.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(U.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===oe){e.next=8;break}return t=this.props.match.params.id,e.next=4,k.a.get("https://miolaproject.herokuapp.com/etudiants/"+t,{headers:{Authorization:"Bearer ".concat(oe)}});case 4:a=e.sent,this.setState({id:t,nom:a.data.nom,prenom:a.data.prenom,cne:a.data.cne,filiere:a.data.filiere,groupKey:a.data.groupKey,encadrantId:a.data.encadrantId,projectId:a.data.projectId}),e.next=9;break;case 8:this.props.history.push("/login");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),Object(s.a)(a,[{key:"etudiantChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"updateEtudiant",value:function(){var e=Object(U.a)(H.a.mark((function e(t){var a,n,r=this;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.match.params.id,n={id:this.state.id,nom:this.state.nom,prenom:this.state.prenom,cne:this.state.cne,filiere:this.state.filiere,groupKey:" ",encadrantId:" ",projectId:" "},e.next=5,k.a.patch("https://miolaproject.herokuapp.com/etudiants/"+a,n,{headers:{Authorization:"Bearer ".concat(oe)}}).then((function(e){null!=e.data?(r.setState(r.initialState),r.setState({showModifToast:!0}),setTimeout((function(){return r.setState({showModifToast:!1})}),1e3),setTimeout((function(){return r.props.history.push("/etudiant")}),1e3)):console.error("Error")}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.a})," Modifier un \xe9tudiant"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous pouvez changer les informations que vous voulez et sauvegarder")),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement("div",{style:{display:this.state.showModifToast?"block":"none"}},r.a.createElement(_,{children:{showModifToast:this.state.showModifToast,message:"Etudiant modifi\xe9 avec succe\u0300s.",type:"success"}})),r.a.createElement(I.a,{onSubmit:this.updateEtudiant,id:"EtudiantFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridNom"},r.a.createElement(I.a.Label,null," Nom "),r.a.createElement(I.a.Control,{name:"nom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.nom,onChange:this.etudiantChange,placeholder:"Entrez Nom Etudiant"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridPrenom"},r.a.createElement(I.a.Label,null," Prenom "),r.a.createElement(I.a.Control,{name:"prenom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.prenom,onChange:this.etudiantChange,placeholder:"Entrez Prenom Etudiant"}))),r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridCne"},r.a.createElement(I.a.Label,null," CNE "),r.a.createElement(I.a.Control,{name:"cne",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.cne,onChange:this.etudiantChange,placeholder:"Entrez CNE Etudiant"})),r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridFiliere"},r.a.createElement(I.a.Label,null," Fili\xe8re "),r.a.createElement(I.a.Control,{name:"filiere",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.filiere,onChange:this.etudiantChange,placeholder:"Entrez Fili\xe8re Etudiant"})))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"primary",type:"submit"}," Modifier "))))))}}]),a}(n.Component),ce=O(),se="";ce&&(se=ce.data.jwttoken);var ie=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).initialState={Nom:" "},n.deleteGroupe=function(e){k.a.delete("https://miolaproject.herokuapp.com/groupes/"+e,{headers:{Authorization:"Bearer ".concat(se)}}).then((function(t){null!=t.data?(n.setState({showSuppToast:!0}),setTimeout((function(){return n.setState({showSuppToast:!1})}),1e3),n.setState({Groupes:n.state.Groupes.filter((function(t){return t.id!==e}))})):n.setState({showSuppToast:!1})}))},n.state={Groupes:[],isToggleOn:!1,currentuser:O()},n.groupeChange=n.groupeChange.bind(Object(G.a)(n)),n.ajoutGroupe=n.ajoutGroupe.bind(Object(G.a)(n)),n.handleClick=n.handleClick.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(console.log(se),""!==se){k.a.get("https://miolaproject.herokuapp.com/groupes",{headers:{Authorization:"Bearer ".concat(se)}}).then((function(t){console.log(t.data),e.setState({Groupes:t.data,isLoaded:!0,redirectToReferrer:!1})}))}else this.props.history.push("/login")}},{key:"ajoutGroupe",value:function(e){var t=this;e.preventDefault();var a={nom:this.state.nom};k.a.post("https://miolaproject.herokuapp.com/groupes",a,{headers:{Authorization:"Bearer ".concat(se)}}).then((function(e){null!=e.data&&(t.setState(t.initialState),t.setState({showAddToast:!0}),setTimeout((function(){return t.setState({showAddToast:!1})}),1e3),setTimeout((function(){return window.location.reload(!1)}),1e3))}))}},{key:"handleClick",value:function(){var e=this;this.setState((function(t){return{isToggleOn:!e.state.isToggleOn}}))}},{key:"groupeChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.b})," Liste des groupes"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous trouverez la liste des groupes existants"))),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(g.a,{size:"lg",variant:"outline-success",onClick:this.handleClick}," ",r.a.createElement(v.a,{icon:j.c})," Ajouter un groupe")))),r.a.createElement("div",{style:{display:this.state.showSuppToast?"block":"none"}},r.a.createElement(L,{children:{showSuppToast:this.state.showSuppToast,message:"Groupe supprime\u0301",type:"danger"}})),r.a.createElement("div",{className:"FormAjout",style:{display:this.state.isToggleOn?"block":"none"}},r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(A.a.Header,null," Ajouter un groupe "),r.a.createElement("div",{style:{display:this.state.showAddToast?"block":"none"}},r.a.createElement(B,{children:{showAddToast:this.state.showAddToast,message:"Groupe ajout\xe9 avec succe\u0300s.",type:"success"}})),r.a.createElement(I.a,{onSubmit:this.ajoutGroupe,id:"GroupeFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridNom"},r.a.createElement(I.a.Label,null," Nom "),r.a.createElement(I.a.Control,{name:"nom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.nom,onChange:this.groupeChange,placeholder:"Entrez Nom Groupe"})))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"success",type:"submit"}," Ajouter "))))),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(A.a.Body,null,r.a.createElement(P.a,{bordered:!0,hover:!0,striped:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nom"))),r.a.createElement("tbody",null,0===this.state.Groupes.length?r.a.createElement("tr",{align:"center"},r.a.createElement("td",{colSpan:"6"},"Aucun groupe existant.")):this.state.Groupes.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.nom),r.a.createElement("td",null,r.a.createElement(q.a,null,r.a.createElement(m.b,{to:{pathname:"/groupe/ajoutetudiant/".concat(t.id)},className:"nav-link"},r.a.createElement(g.a,{size:"sm",variant:"outline-success"},r.a.createElement(v.a,{icon:j.f})," ")),r.a.createElement(m.b,{to:{pathname:"/groupe/modif/".concat(t.id)},className:"nav-link"},r.a.createElement(g.a,{size:"sm",variant:"outline-primary"},r.a.createElement(v.a,{icon:j.a})," ")),r.a.createElement(g.a,{size:"sm",variant:"outline-danger",onClick:e.deleteGroupe.bind(e,t.id)}," ",r.a.createElement(v.a,{icon:j.e})," "))))}))))))))}}]),a}(n.Component),ue=O(),me="";ue&&(me=ue.data.jwttoken);var de=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={id:"",nom:""},n.state={groupe:n.initialState},n.groupeChange=n.groupeChange.bind(Object(G.a)(n)),n.updateGroupe=n.updateGroupe.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=Object(U.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===me){e.next=8;break}return t=this.props.match.params.id,e.next=4,k.a.get("https://miolaproject.herokuapp.com/groupes/"+t,{headers:{Authorization:"Bearer ".concat(me)}});case 4:a=e.sent,this.setState({id:t,nom:a.data.nom}),e.next=9;break;case 8:this.props.history.push("/login");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),Object(s.a)(a,[{key:"groupeChange",value:function(e){this.setState(Object(z.a)({},e.target.name,e.target.value))}},{key:"updateGroupe",value:function(){var e=Object(U.a)(H.a.mark((function e(t){var a,n,r=this;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=this.props.match.params.id,n={id:this.state.id,nom:this.state.nom},e.next=5,k.a.patch("https://miolaproject.herokuapp.com/groupes/"+a,n,{headers:{Authorization:"Bearer ".concat(me)}}).then((function(e){null!=e.data?(r.setState(r.initialState),r.setState({showModifToast:!0}),setTimeout((function(){return r.setState({showModifToast:!1})}),1e3),setTimeout((function(){return r.props.history.push("/groupe")}),1e3)):console.error("Error")}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.a})," Modifier un groupe"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous pouvez changer les informations que vous voulez et sauvegarder")),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement("div",{style:{display:this.state.showModifToast?"block":"none"}},r.a.createElement(_,{children:{showModifToast:this.state.showModifToast,message:"Groupe modifi\xe9 avec succe\u0300s.",type:"success"}})),r.a.createElement(I.a,{onSubmit:this.updateGroupe,id:"GroupeFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Row,null,r.a.createElement(I.a.Group,{as:E.a,controlId:"formGridNom"},r.a.createElement(I.a.Label,null," Nom "),r.a.createElement(I.a.Control,{name:"nom",autoComplete:"off",required:!0,type:"text",className:"bg-dark text-white",value:this.state.nom,onChange:this.groupeChange,placeholder:"Entrez Nom Groupe"})))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"primary",type:"submit"}," Modifier "))))))}}]),a}(n.Component),pe=O(),he="";pe&&(he=pe.data.jwttoken);var Ee=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={Etudiants:[],groupe:"",value:[]},n.handleChange=n.handleChange.bind(Object(G.a)(n)),n.ajoutEtudiantGroupe=n.ajoutEtudiantGroupe.bind(Object(G.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;fetch("https://miolaproject.herokuapp.com/groupes/"+t,{headers:{Authorization:"Bearer ".concat(he)}}).then((function(e){return e.json()})).then((function(t){e.setState({groupe:t}),console.log(e.state.groupe)})).catch((function(e){return console.error(e)})),fetch("https://miolaproject.herokuapp.com/etudiants",{headers:{Authorization:"Bearer ".concat(he)}}).then((function(e){return e.json()})).then((function(t){e.setState({Etudiants:t})})).catch((function(e){return console.error(e)}))}}]),Object(s.a)(a,[{key:"ajoutEtudiantGroupe",value:function(e){e.preventDefault(),alert("Votre parfum favori est : "+this.state.value)}},{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement("br",null),r.a.createElement(f.a,{className:"bg-dark text-white"},r.a.createElement("h1",null,r.a.createElement(v.a,{icon:j.f})," Ajouter des \xe9tudiants \xe0 ce groupe"),r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,"Vous pouvez choisir les \xe9tudiants que vous voulez pour les ajouter \xe0 ce groupe")),r.a.createElement(A.a,{className:"border border-dark bg-dark text-white"},r.a.createElement(I.a,{onSubmit:this.ajoutEtudiantGroupe,id:"GroupeFormId"},r.a.createElement(A.a.Body,null,r.a.createElement(I.a.Group,{controlId:"ControlEtudiants"},r.a.createElement(I.a.Label,null,"Liste des \xe9tudiants"),r.a.createElement(I.a.Control,{name:"listeEtudiants",value:this.state.value,as:"select",onChange:this.handleChange},this.state.Etudiants.map((function(e){return r.a.createElement("option",{value:e.id},e.nom+" "+e.prenom," ")}))))),r.a.createElement(A.a.Footer,{style:{textAlign:"center"}},r.a.createElement(g.a,{size:"lm",variant:"success",type:"submit"}," Valider "))))))}}]),a}(n.Component),fe=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Page Not Found 404"),"Click on this ",r.a.createElement(m.b,{to:"/home"},"link")," to go to the homepage.")}}]),a}(n.Component),be=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"handleLogout",value:function(){localStorage.clear(),window.location.href="/"}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"WELCOME TO DASHBOARD"),r.a.createElement("a",{href:"/",onClick:this.handleLogout,className:"d-b td-n pY-5 bgcH-grey-100 c-grey-700"},r.a.createElement("i",{className:"ti-power-off mR-10"}),r.a.createElement("span",{style:{color:"white"}},"Logout")))}}]),a}(n.Component),ge=a(19),ve=a(62),je=a.n(ve),ye=a(42),ke=a.n(ye),we=a(63),Ce=a.n(we),xe=function(e){if(!e)return r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"This field is required!")},Oe=function(e){var t=Object(d.f)(),a=Object(n.useRef)(),o=Object(n.useRef)(),l=Object(n.useState)(""),c=Object(ge.a)(l,2),s=c[0],i=c[1],u=Object(n.useState)(""),p=Object(ge.a)(u,2),h=p[0],E=p[1],f=Object(n.useState)(!1),b=Object(ge.a)(f,2),g=b[0],v=b[1],j=Object(n.useState)(""),y=Object(ge.a)(j,2),k=y[0],w=y[1];return r.a.createElement("div",{className:"col-md-4",style:{display:"block",margin:"auto"}},r.a.createElement("h2",{style:{width:"90%",display:"block",margin:"auto"}},"MiolaProjects Login"),r.a.createElement("div",{className:"card card-container"},r.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),r.a.createElement(je.a,{onSubmit:function(e){e.preventDefault(),w(""),v(!0),a.current.validateAll(),0===o.current.context._errors.length?C(s,h).then((function(){t.push("/projet"),window.location.reload()}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();v(!1),w(t)})):v(!1)},ref:a},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement(ke.a,{type:"text",className:"form-control",name:"username",autoFocus:!0,value:s,onChange:function(e){var t=e.target.value;i(t)},validations:[xe]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement(ke.a,{type:"password",className:"form-control",name:"password",value:h,onChange:function(e){var t=e.target.value;E(t)},validations:[xe]})),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary btn-block",disabled:g},g&&r.a.createElement("span",{className:"spinner-border spinner-border-sm"}),r.a.createElement("span",null,"Login"))),k&&r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"alert alert-danger",role:"alert"},k)),r.a.createElement(Ce.a,{style:{display:"none"},ref:o}))),r.a.createElement("div",null,r.a.createElement("h2",null,"Vous n'avez pas un compte?"),r.a.createElement(m.b,{to:"/register"},"Cliquez ici")," pour cr\xe9er un compte."))},Ne=a(26),Te=function(e,t){switch(t.type){case"INPUT_CHANGE":var a=!0;for(var n in e.inputs)a=n===t.inputId?a&&t.isValid:a&&e.inputs[n].isValid;return Object(Ne.a)(Object(Ne.a)({},e),{},{inputs:Object(Ne.a)(Object(Ne.a)({},e.inputs),{},Object(z.a)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:a});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},Se=(a(101),function(e){return e.href?r.a.createElement("a",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),href:e.href},e.children):e.to?r.a.createElement(m.b,{to:e.to,exact:e.exact,className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger")},e.children):r.a.createElement("button",{className:"button button--".concat(e.size||"default"," ").concat(e.inverse&&"button--inverse"," ").concat(e.danger&&"button--danger"),type:e.type,onClick:e.onClick,disabled:e.disabled},e.children)}),ze=a(43),Ge="REQUIRE",Ae="MINLENGTH",Ie="MINLENGTHPASS",Pe="MAXLENGTH",qe="MAX",Me="EMAIL",Le="MATCH",Be="USERMATCH",De=function(){return{type:Ge}},Re=function(e){return{type:Le,val:e}},Fe="",Ve=[],He=function(e,t){k.a.get("https://miolaproject.herokuapp.com/users").then((function(e){null!=e.data&&(Ve=e.data)}));var a,n=!0,r=Object(ze.a)(t);try{for(r.s();!(a=r.n()).done;){var o=a.value;if(o.type===Ge&&(n=n&&e.trim().length>0),o.type===Ae&&(n=n&&e.trim().length>=o.val),o.type===Ie&&(Fe=e,console.log("passs ",Fe),n=n&&e.trim().length>=o.val),o.type===Be){var l,c=Object(ze.a)(Ve);try{for(c.s();!(l=c.n()).done;){var s=l.value;n=n&&s.username!==e}}catch(i){c.e(i)}finally{c.f()}}o.type===Pe&&(n=n&&e.trim().length<=o.val),"MIN"===o.type&&(n=n&&+e>=o.val),o.type===qe&&(n=n&&+e<=o.val),o.type===qe&&(n=n&&+e<=o.val),o.type===Le&&(null!==o.val&&console.log("validate pass  ".concat(Fe)),n=n&&e===Fe),o.type===Me&&(n=n&&/^\S+@\S+\.\S+$/.test(e))}}catch(i){r.e(i)}finally{r.f()}return n},Ue=(a(102),function(e,t){switch(t.type){case"CHANGE":return Object(Ne.a)(Object(Ne.a)({},e),{},{value:t.val,isValid:He(t.val,t.validators)});case"TOUCH":return Object(Ne.a)(Object(Ne.a)({},e),{},{isTouched:!0});default:return e}});function _e(e){var t=Object(n.useReducer)(Ue,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),a=Object(ge.a)(t,2),o=a[0],l=a[1],c=function(){l({type:"TOUCH"})},s=function(t){l({type:"CHANGE",val:t.target.value,validators:e.validators})},i=e.id,u=e.onInput,m=o.isValid,d=o.value;Object(n.useEffect)((function(){u(i,d,m)}),[i,u,d,m]);var p="input"===e.element?r.a.createElement("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:s,value:o.value,onBlur:c}):r.a.createElement("textarea",{id:e.id,rows:e.rows||3,placeholder:e.placeholder,onChange:s,onBlur:c,value:o.value});return r.a.createElement("div",{className:"form-controll  ".concat(!o.isValid&&o.isTouched&&"form-controll--invalid")},r.a.createElement("label",{htmlFor:e.id}," ",e.label),p,!o.isValid&&o.isTouched&&r.a.createElement("p",null,e.errorText))}a(103);function Je(e){var t=Object(d.f)(),a=Object(n.useState)(!1),o=Object(ge.a)(a,2),l=o[0],c=o[1],s=function(e,t){var a=Object(n.useReducer)(Te,{inputs:e,isValid:t}),r=Object(ge.a)(a,2),o=r[0],l=r[1];return[o,Object(n.useCallback)((function(e,t,a){l({type:"INPUT_CHANGE",value:t,isValid:a,inputId:e})}),[]),Object(n.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}({username:{value:"",isValid:!1},email:{value:"",isValid:!1},password:{value:"",isValid:!1},rePassword:{value:"",isValid:!1}},!1),i=Object(ge.a)(s,2),u=i[0],p=i[1];Object(n.useEffect)((function(){f()}),[u]);var h,E="",f=function(){console.log("use Effect pass check "),null!==document.getElementById("password").value&&(E=document.getElementById("password").value)};return r.a.createElement("div",{className:"col-md-4",style:{display:"block",margin:"auto"}},r.a.createElement("div",{style:{display:l?"block":"none"}},r.a.createElement(B,{children:{show:l,message:"Utilisateur ajout\xe9e avec succe\u0300s.",type:"success"}})),r.a.createElement("h2",{style:{width:"100%",display:"block",margin:"auto"}},"MiolaProjects Register"),r.a.createElement("div",{className:"card card-container"},r.a.createElement("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),r.a.createElement("form",{className:"register-form",onSubmit:function(e){e.preventDefault(),w(u.inputs.username.value,u.inputs.password.value).then((function(){c(!0),setTimeout((function(){return c(!1)}),2e3),setTimeout((function(){return t.push("/login")}),1500)}))}},r.a.createElement(_e,{id:"username",element:"input",type:"text",placeholder:"Username",errorText:"User already exist",validators:[{type:Be}],onInput:p}),r.a.createElement(_e,{id:"email",element:"input",type:"text",placeholder:"Email",errorText:"please enter a valide Email",validators:[De(),{type:Me}],onInput:p}),r.a.createElement(_e,{id:"password",element:"input",type:"password",placeholder:"Password",validators:[De(),(h=8,{type:Ie,val:h})],errorText:"Please enter a valid password (at least 8 characters).",onInput:p}),r.a.createElement(_e,{id:"rePassword",placeholder:"Confirm Password",element:"input",type:"password",validators:[De(),Re(E)],errorText:"Passwords didn't match",onInput:p}),r.a.createElement(Se,{type:"submit",disabled:!u.isValid},"Register"))),r.a.createElement("div",null,r.a.createElement("h2",null,"Vous avez d\xe9ja un compte?"),r.a.createElement(m.b,{to:"/login"},"Cliquez ici")," pour vous connecter."))}var Ke=function(){var e=O();return r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,r.a.createElement("strong",null,e.username)," Profile")),r.a.createElement("p",null,r.a.createElement("strong",null,"Token:")," ",e.accessToken," ..."," "),r.a.createElement("p",null,r.a.createElement("strong",null,"Id:")," ",e.id),r.a.createElement("p",null,r.a.createElement("strong",null,"Email:")," ",e.email),r.a.createElement("strong",null,"Authorities:"),r.a.createElement("ul",null,e.roles&&e.roles.map((function(e,t){return r.a.createElement("li",{key:t},e)}))))};function We(){var e=JSON.parse(localStorage.getItem("user"));return console.log("auth header ",e),e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var Xe="https://miolaproject.herokuapp.com/api/",$e=function(){return k.a.get(Xe+"user",{headers:We()})},Qe=function(){return k.a.get(Xe+"user",{headers:We()})},Ye=function(){return k.a.get(Xe+"user",{headers:We()})},Ze=function(){var e=Object(n.useState)(""),t=Object(ge.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){$e().then((function(e){o(e.data)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();o(t)}))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,a)))},et=function(){var e=Object(n.useState)(""),t=Object(ge.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){Qe().then((function(e){o(e.data)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();o(t)}))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,a)))},tt=function(){var e=Object(n.useState)(""),t=Object(ge.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){Ye().then((function(e){o(e.data)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();o(t)}))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("header",{className:"jumbotron"},r.a.createElement("h3",null,a)))},at=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(p.a,null,r.a.createElement(h.a,null,r.a.createElement(E.a,{lg:12,style:{marginTop:"20px"}},r.a.createElement(d.c,null,r.a.createElement(d.a,{path:["/","/login"],exact:!0,component:Oe}),r.a.createElement(d.a,{path:"/home",exact:!0,component:S}),r.a.createElement(d.a,{path:"/encadrant",exact:!0,component:Q}),r.a.createElement(d.a,{path:"/encadrant/modif/:id",exact:!0,component:ee}),r.a.createElement(d.a,{path:"/etudiant",exact:!0,component:ne}),r.a.createElement(d.a,{path:"/etudiant/modif/:id",exact:!0,component:le}),r.a.createElement(d.a,{path:"/projet",exact:!0,component:F}),r.a.createElement(d.a,{path:"/projet/modif/:id",exact:!0,component:W}),r.a.createElement(d.a,{path:"/groupe",exact:!0,component:ie}),r.a.createElement(d.a,{path:"/groupe/modif/:id",exact:!0,component:de}),r.a.createElement(d.a,{path:"/groupe/ajoutetudiant/:id",exact:!0,component:Ee}),r.a.createElement(d.a,{path:"/dashboard",exact:!0,component:be}),r.a.createElement(d.a,{path:"/register",exact:!0,component:Je}),r.a.createElement(d.a,{path:"/profile",exact:!0,component:Ke}),r.a.createElement(d.a,{path:"/user",exact:!0,component:Ze}),r.a.createElement(d.a,{path:"/mod",exact:!0,component:et}),r.a.createElement(d.a,{path:"/admin",exact:!0,component:tt}),r.a.createElement(d.a,{component:fe}))))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(at,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},70:function(e,t,a){},71:function(e,t,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.b19bcc20.chunk.js.map